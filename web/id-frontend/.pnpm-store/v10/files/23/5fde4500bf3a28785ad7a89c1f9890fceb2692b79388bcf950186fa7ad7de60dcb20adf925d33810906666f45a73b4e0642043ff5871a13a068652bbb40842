import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import * as React from 'react';
import { block } from "../../utils/cn.js";
import { DRAWER_ITEM_MIN_SIZE } from "../constants.js";
import { useResizableDrawerItem } from "../hooks/useResizableDrawerItem.js";
import "./Drawer.css";
const b = block('drawer');
export const DrawerItem = React.forwardRef(function DrawerItem(props, ref) {
    const { open, children, placement = 'left', className, resizable, size, minSize, maxSize, onResizeStart, onResizeEnd, onResize, style = {}, overlayRef, ...restProps } = props;
    const { currentSize, onResizerPointerDown } = useResizableDrawerItem({
        placement,
        size,
        minSize,
        maxSize,
        onResizeStart,
        onResizeEnd,
        onResize,
        overlayRef,
    });
    const isHorizontalArrangement = ['left', 'right'].includes(placement);
    const isVerticalArrangement = !isHorizontalArrangement;
    const calculatedMinSize = minSize ?? DRAWER_ITEM_MIN_SIZE;
    const resizerElement = resizable ? (_jsx("div", { className: b('resizer'), onPointerDown: open && resizable ? onResizerPointerDown : undefined, children: _jsx("div", { className: b('resizer-handle') }) })) : null;
    return (_jsxs("div", { ref: ref, className: b('item', {
            resizable,
            hidden: !open,
        }, className), style: {
            ...style,
            minWidth: isHorizontalArrangement ? `${calculatedMinSize}px` : undefined,
            minHeight: isVerticalArrangement ? `${calculatedMinSize}px` : undefined,
            width: isHorizontalArrangement ? `${currentSize}px` : undefined,
            height: isVerticalArrangement ? `${currentSize}px` : undefined,
        }, ...restProps, children: [resizerElement, children] }));
});
//# sourceMappingURL=DrawerItem.js.map
