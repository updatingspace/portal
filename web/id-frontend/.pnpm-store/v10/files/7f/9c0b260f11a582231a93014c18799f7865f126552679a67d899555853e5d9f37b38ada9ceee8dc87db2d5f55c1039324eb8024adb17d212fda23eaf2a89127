{"version":3,"file":"useTab.js","sourceRoot":"../../../../../src","sources":["components/tabs/hooks/useTab.ts"],"names":[],"mappings":";;AAOA,wBA0EC;;AAjFD,qDAA+B;AAE/B,qDAA2C;AAC3C,+CAAsD;AACtD,0DAAkD;AAGlD,SAAgB,MAAM,CAClB,QAAqB;IAErB,MAAM,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,uBAAU,CAAC,CAAC;IAEhD,IAAI,CAAC,UAAU,EAAE,CAAC;QACd,MAAM,IAAI,KAAK,CAAC,qCAAqC,CAAC,CAAC;IAC3D,CAAC;IAED,MAAM,YAAY,GAAG,UAAU,CAAC,KAAK,CAAC;IACtC,MAAM,KAAK,GAAG,GAAG,UAAU,CAAC,EAAE,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC;IACrD,MAAM,OAAO,GAAG,UAAU,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,UAAU,CAAC,EAAE,MAAM,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC;IAE3F,MAAM,UAAU,GAAG,YAAY,KAAK,QAAQ,CAAC,KAAK,CAAC;IACnD,MAAM,UAAU,GAAG,QAAQ,CAAC,QAAQ,CAAC;IACrC,MAAM,SAAS,GAAG,UAAU,CAAC,SAAS,CAAC;IAEvC,MAAM,OAAO,GAAG,CAAC,KAAuB,EAAE,EAAE;QACxC,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACpB,OAAO;QACX,CAAC;QAED,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;YACnB,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;QAC5B,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;YAC1B,UAAU,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,SAAS,GAAG,CAAC,KAA0B,EAAE,EAAE;QAC7C,IAAI,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACpB,OAAO;QACX,CAAC;QAED,IAAI,QAAQ,CAAC,SAAS,EAAE,CAAC;YACrB,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC9B,CAAC;QAED,IACI,CAAC,KAAK,CAAC,gBAAgB;YACvB,CAAC,KAAK,CAAC,GAAG,KAAK,mBAAO,CAAC,QAAQ,IAAI,KAAK,CAAC,GAAG,KAAK,mBAAO,CAAC,KAAK,CAAC,EACjE,CAAC;YACC,UAAU,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAC1C,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,EACF,KAAK,EAAE,MAAM,EACb,IAAI,EAAE,KAAK,EACX,OAAO,EAAE,QAAQ,EACjB,KAAK,EAAE,MAAM,EACb,QAAQ,EAAE,SAAS,EACnB,IAAI,EAAE,KAAK,EACX,SAAS,EAAE,UAAU,EACrB,EAAE,EAAE,GAAG,EACP,GAAG,SAAS,EACf,GAAG,QAAQ,CAAC;IAEb,OAAO;QACH,GAAG,SAAS;QACZ,IAAI,EAAE,KAAK;QACX,eAAe,EAAE,UAAU;QAC3B,eAAe,EAAE,UAAU;QAC3B,eAAe,EAAE,OAAO;QACxB,EAAE,EAAE,KAAK;QACT,QAAQ,EAAE,UAAU,IAAI,CAAC,UAAU,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,OAAO;QACP,SAAS;QACT,SAAS,EAAE,IAAA,gBAAI,EAAC,EAAC,MAAM,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,EAAC,EAAE,QAAQ,CAAC,SAAS,CAAC;QAC/E,SAAS,EAAE,QAAQ,CAAC,EAAE;QACtB,CAAC,8BAAkB,CAAC,EAAE,QAAQ,CAAC,KAAK;KACvC,CAAC;AACN,CAAC","sourcesContent":["import * as React from 'react';\n\nimport {KeyCode} from '../../../constants';\nimport {TAB_DATA_ATTRIBUTE, bTab} from '../constants';\nimport {TabContext} from '../contexts/TabContext';\nimport type {TabComponentElementType, TabProps} from '../types';\n\nexport function useTab<T extends TabComponentElementType>(\n    tabProps: TabProps<T>,\n): React.HTMLAttributes<HTMLElement> & {[key: `data-${string}`]: string | undefined} {\n    const tabContext = React.useContext(TabContext);\n\n    if (!tabContext) {\n        throw new Error('<Tab> must be used within <TabList>');\n    }\n\n    const currentValue = tabContext.value;\n    const tabId = `${tabContext.id}:t:${tabProps.value}`;\n    const panelId = tabContext.isProvider ? `${tabContext.id}:p:${tabProps.value}` : undefined;\n\n    const isSelected = currentValue === tabProps.value;\n    const isDisabled = tabProps.disabled;\n    const isFocused = tabContext.isFocused;\n\n    const onClick = (event: React.MouseEvent) => {\n        if (tabProps.disabled) {\n            return;\n        }\n\n        if (tabProps.onClick) {\n            tabProps.onClick(event);\n        }\n\n        if (!event.defaultPrevented) {\n            tabContext.onUpdate?.(tabProps.value);\n        }\n    };\n\n    const onKeyDown = (event: React.KeyboardEvent) => {\n        if (tabProps.disabled) {\n            return;\n        }\n\n        if (tabProps.onKeyDown) {\n            tabProps.onKeyDown(event);\n        }\n\n        if (\n            !event.defaultPrevented &&\n            (event.key === KeyCode.SPACEBAR || event.key === KeyCode.ENTER)\n        ) {\n            tabContext.onUpdate?.(tabProps.value);\n        }\n    };\n\n    const {\n        value: _value,\n        icon: _icon,\n        counter: _counter,\n        label: _label,\n        disabled: _disabled,\n        href: _href,\n        component: _component,\n        qa: _qa,\n        ...htmlProps\n    } = tabProps;\n\n    return {\n        ...htmlProps,\n        role: 'tab',\n        'aria-selected': isSelected,\n        'aria-disabled': isDisabled,\n        'aria-controls': panelId,\n        id: tabId,\n        tabIndex: isSelected && !isDisabled && !isFocused ? 0 : -1,\n        onClick,\n        onKeyDown,\n        className: bTab({active: isSelected, disabled: isDisabled}, tabProps.className),\n        'data-qa': tabProps.qa,\n        [TAB_DATA_ATTRIBUTE]: tabProps.value,\n    };\n}\n"]}