{"version":3,"file":"configure.js","sourceRoot":"../../../src","sources":["utils/configure.ts"],"names":[],"mappings":"AAEA,MAAM,CAAN,IAAY,IAGX;AAHD,WAAY,IAAI;IACZ,iBAAS,CAAA;IACT,iBAAS,CAAA;AACb,CAAC,EAHW,IAAI,KAAJ,IAAI,QAGf;AASD,IAAI,IAAI,GAAiB,EAAE,CAAC;AAE5B,MAAM,MAAM,GAAW;IACnB,IAAI,EAAE,IAAI,CAAC,EAAE;IACb,YAAY,EAAE,IAAI,CAAC,EAAE;CACxB,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAAG,CAAC,SAA0B,EAAE,EAAE;IACpD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;IACjC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QACjB,GAAG,CAAC,MAAM,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC;AACP,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,kBAAkB,GAAG,CAAC,GAAe,EAAE,EAAE;IAClD,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAEf,OAAO,GAAG,EAAE;QACR,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,KAAK,GAAG,CAAC,CAAC;IAC/C,CAAC,CAAC;AACN,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC","sourcesContent":["import type {StringWithSuggest} from '../utils/types';\n\nexport enum Lang {\n    Ru = 'ru',\n    En = 'en',\n}\n\ninterface Config {\n    lang: StringWithSuggest<Lang>;\n    fallbackLang: StringWithSuggest<Lang>;\n}\n\ntype Subscriber = (config: Config) => void;\n\nlet subs: Subscriber[] = [];\n\nconst config: Config = {\n    lang: Lang.En,\n    fallbackLang: Lang.En,\n};\n\nexport const configure = (newConfig: Partial<Config>) => {\n    Object.assign(config, newConfig);\n    subs.forEach((sub) => {\n        sub(config);\n    });\n};\n\nexport const subscribeConfigure = (sub: Subscriber) => {\n    subs.push(sub);\n\n    return () => {\n        subs = subs.filter((item) => item !== sub);\n    };\n};\n\nexport const getConfig = () => config;\n"]}