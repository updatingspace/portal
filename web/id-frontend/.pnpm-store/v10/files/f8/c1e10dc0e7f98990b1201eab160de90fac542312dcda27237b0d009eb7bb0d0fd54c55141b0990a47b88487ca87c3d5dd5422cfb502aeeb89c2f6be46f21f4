"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DrawerItem = void 0;
const tslib_1 = require("tslib");
const jsx_runtime_1 = require("react/jsx-runtime");
const React = tslib_1.__importStar(require("react"));
const cn_1 = require("../../utils/cn.js");
const constants_1 = require("../constants.js");
const useResizableDrawerItem_1 = require("../hooks/useResizableDrawerItem.js");
require("./Drawer.css");
const b = (0, cn_1.block)('drawer');
exports.DrawerItem = React.forwardRef(function DrawerItem(props, ref) {
    const { open, children, placement = 'left', className, resizable, size, minSize, maxSize, onResizeStart, onResizeEnd, onResize, style = {}, overlayRef, ...restProps } = props;
    const { currentSize, onResizerPointerDown } = (0, useResizableDrawerItem_1.useResizableDrawerItem)({
        placement,
        size,
        minSize,
        maxSize,
        onResizeStart,
        onResizeEnd,
        onResize,
        overlayRef,
    });
    const isHorizontalArrangement = ['left', 'right'].includes(placement);
    const isVerticalArrangement = !isHorizontalArrangement;
    const calculatedMinSize = minSize ?? constants_1.DRAWER_ITEM_MIN_SIZE;
    const resizerElement = resizable ? ((0, jsx_runtime_1.jsx)("div", { className: b('resizer'), onPointerDown: open && resizable ? onResizerPointerDown : undefined, children: (0, jsx_runtime_1.jsx)("div", { className: b('resizer-handle') }) })) : null;
    return ((0, jsx_runtime_1.jsxs)("div", { ref: ref, className: b('item', {
            resizable,
            hidden: !open,
        }, className), style: {
            ...style,
            minWidth: isHorizontalArrangement ? `${calculatedMinSize}px` : undefined,
            minHeight: isVerticalArrangement ? `${calculatedMinSize}px` : undefined,
            width: isHorizontalArrangement ? `${currentSize}px` : undefined,
            height: isVerticalArrangement ? `${currentSize}px` : undefined,
        }, ...restProps, children: [resizerElement, children] }));
});
//# sourceMappingURL=DrawerItem.js.map
