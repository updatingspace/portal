{"version":3,"file":"useResizeHandlers.js","sourceRoot":"../../../../../src","sources":["components/Drawer/hooks/useResizeHandlers.ts"],"names":[],"mappings":";;AAYA,8CAkDC;;AA9DD,qDAA+B;AAY/B,SAAgB,iBAAiB,CAAC,EAC9B,OAAO,EACP,MAAM,EACN,KAAK,EACL,WAAW,GAAG,YAAY,GACJ;IACtB,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IAEjC,MAAM,UAAU,GAAG,KAAK,CAAC,WAAW,CAChC,CAAC,GAAiB,EAAE,EAAE;QAClB,MAAM,OAAO,GAAG,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC;QACzE,MAAM,CAAC,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC,CAAC;IACvC,CAAC,EACD,CAAC,WAAW,EAAE,MAAM,CAAC,CACxB,CAAC;IAEF,MAAM,QAAQ,GAAG,KAAK,CAAC,WAAW,CAC9B,CAAC,GAAiB,EAAE,EAAE;QAClB,MAAM,CAAC,mBAAmB,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QACtD,KAAK,CACD,QAAQ,CAAC,OAAO,GAAG,CAAC,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,OAAO,CAAC,EAC7E,GAAG,CACN,CAAC;IACN,CAAC,EACD,CAAC,WAAW,EAAE,UAAU,EAAE,KAAK,CAAC,CACnC,CAAC;IAEF,MAAM,aAAa,GAAG,KAAK,CAAC,WAAW,CACnC,CAAC,CAAqB,EAAE,EAAE;QACtB,CAAC,CAAC,cAAc,EAAE,CAAC;QACnB,MAAM,OAAO,GAAG,WAAW,KAAK,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;QACrE,QAAQ,CAAC,OAAO,GAAG,OAAO,CAAC;QAC3B,OAAO,EAAE,CAAC;QAEV,MAAM,CAAC,gBAAgB,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;QACnD,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,QAAQ,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;IACjE,CAAC,EACD,CAAC,OAAO,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,CAAC,CAC/C,CAAC;IAEF,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACjB,OAAO,GAAG,EAAE;YACR,MAAM,CAAC,mBAAmB,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;YACtD,MAAM,CAAC,mBAAmB,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;QACtD,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;IAE3B,OAAO;QACH,aAAa;KAChB,CAAC;AACN,CAAC","sourcesContent":["import * as React from 'react';\n\nexport type DrawerPlacement = 'right' | 'left' | 'top' | 'bottom';\nexport type OnResizeHandler = (size: number) => void;\n\nexport interface UseResizeHandlersParams {\n    onStart: () => void;\n    onMove: (delta: number) => void;\n    onEnd: (delta: number, event: MouseEvent | TouchEvent) => void;\n    arrangement?: 'horizontal' | 'vertical';\n}\n\nexport function useResizeHandlers({\n    onStart,\n    onMove,\n    onEnd,\n    arrangement = 'horizontal',\n}: UseResizeHandlersParams) {\n    const startRef = React.useRef(0);\n\n    const handleMove = React.useCallback(\n        (evt: PointerEvent) => {\n            const current = arrangement === 'horizontal' ? evt.clientX : evt.clientY;\n            onMove(startRef.current - current);\n        },\n        [arrangement, onMove],\n    );\n\n    const handleUp = React.useCallback(\n        (evt: PointerEvent) => {\n            window.removeEventListener('pointermove', handleMove);\n            onEnd(\n                startRef.current - (arrangement === 'horizontal' ? evt.clientX : evt.clientY),\n                evt,\n            );\n        },\n        [arrangement, handleMove, onEnd],\n    );\n\n    const onPointerDown = React.useCallback(\n        (e: React.PointerEvent) => {\n            e.preventDefault();\n            const axisPos = arrangement === 'horizontal' ? e.clientX : e.clientY;\n            startRef.current = axisPos;\n            onStart();\n\n            window.addEventListener('pointermove', handleMove);\n            window.addEventListener('pointerup', handleUp, {once: true});\n        },\n        [onStart, arrangement, handleMove, handleUp],\n    );\n\n    React.useEffect(() => {\n        return () => {\n            window.removeEventListener('pointermove', handleMove);\n            window.removeEventListener('pointerup', handleUp);\n        };\n    }, [handleMove, handleUp]);\n\n    return {\n        onPointerDown,\n    };\n}\n"]}