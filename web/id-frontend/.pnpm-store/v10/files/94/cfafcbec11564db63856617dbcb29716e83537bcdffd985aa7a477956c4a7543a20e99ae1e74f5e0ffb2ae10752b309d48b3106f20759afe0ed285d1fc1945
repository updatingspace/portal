{"version":3,"file":"ToastList.js","sourceRoot":"../../../../../src","sources":["components/Toaster/ToastList/ToastList.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;AAqBb,8BAgCC;;AAnDD,mEAAsE;AAEtE,0CAAqC;AACrC,0DAAkE;AAClE,6CAAqC;AAGrC,gCAA+B;AAC/B,2BAA0B;AAE1B,MAAM,2BAA2B,GAAG,IAAA,uCAA0B,EAAC,IAAA,UAAK,EAAC,yBAAyB,CAAC,CAAC,CAAC;AACjG,MAAM,0BAA0B,GAAG,IAAA,uCAA0B,EAAC,IAAA,UAAK,EAAC,wBAAwB,CAAC,CAAC,CAAC;AAQ/F,SAAgB,SAAS,CAAC,KAAqB;IAC3C,MAAM,EAAC,MAAM,EAAE,MAAM,EAAE,cAAc,EAAC,GAAG,KAAK,CAAC;IAE/C,OAAO,CACH,uBAAC,wCAAe,IAAC,SAAS,EAAE,IAAI,YAC3B,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CACnB,uBAAC,sCAAa;YAEV;;eAEG;YACH,OAAO,EAAE,KAAK,CAAC,GAA6B,EAC5C,UAAU,EAAE,MAAM,CAAC,CAAC,CAAC,0BAA0B,CAAC,CAAC,CAAC,2BAA2B,EAC7E,cAAc,EAAE,CAAC,IAAI,EAAE,EAAE,CACrB,KAAK,CAAC,GAAG,EAAE,OAAO,EAAE,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,EAE9D,OAAO,EAAE,GAAG,EAAE,CAAC,4BAA4B,CAAC,KAAK,CAAC,EAClD,MAAM,EAAE,GAAG,EAAE,CAAC,4BAA4B,CAAC,KAAK,CAAC,YAEjD,uBAAC,aAAK,OACE,KAAK;gBACT;;mBAEG;gBACH,GAAG,EAAE,KAAK,CAAC,GAAgC,EAC3C,MAAM,EAAE,MAAM,EACd,cAAc,EAAE,cAAc,GAChC,IApBG,GAAG,KAAK,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,EAAE,CAqBzB,CACnB,CAAC,GACY,CACrB,CAAC;AACN,CAAC;AAED,SAAS,4BAA4B,CAAC,KAAyB;IAC3D,IAAI,KAAK,CAAC,GAAG,EAAE,OAAO,EAAE,CAAC;QACrB,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,WAAW,CAC/B,kBAAkB,EAClB,GAAG,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,YAAY,IAAI,CACxC,CAAC;IACN,CAAC;AACL,CAAC","sourcesContent":["'use client';\n\nimport {CSSTransition, TransitionGroup} from 'react-transition-group';\n\nimport {block} from '../../utils/cn';\nimport {getCSSTransitionClassNames} from '../../utils/transition';\nimport {Toast} from '../Toast/Toast';\nimport type {InternalToastProps} from '../types';\n\nimport './ToastAnimation.scss';\nimport './ToastList.scss';\n\nconst desktopTransitionClassNames = getCSSTransitionClassNames(block('toast-animation-desktop'));\nconst mobileTransitionClassNames = getCSSTransitionClassNames(block('toast-animation-mobile'));\n\ntype ToastListProps = {\n    removeCallback: (name: string) => void;\n    toasts: InternalToastProps[];\n    mobile?: boolean;\n};\n\nexport function ToastList(props: ToastListProps) {\n    const {toasts, mobile, removeCallback} = props;\n\n    return (\n        <TransitionGroup component={null}>\n            {toasts.map((toast) => (\n                <CSSTransition\n                    key={`${toast.name}_${toast.addedAt}`}\n                    /*\n                     * TODO: Remove casting in React 19 (https://github.com/gravity-ui/uikit/issues/2537)\n                     */\n                    nodeRef={toast.ref as React.Ref<HTMLElement>}\n                    classNames={mobile ? mobileTransitionClassNames : desktopTransitionClassNames}\n                    addEndListener={(done) =>\n                        toast.ref?.current?.addEventListener('animationend', done)\n                    }\n                    onEnter={() => updateToastHeightCssProperty(toast)}\n                    onExit={() => updateToastHeightCssProperty(toast)}\n                >\n                    <Toast\n                        {...toast}\n                        /*\n                         * TODO: Remove casting in React 19 (https://github.com/gravity-ui/uikit/issues/2537)\n                         */\n                        ref={toast.ref as React.Ref<HTMLDivElement>}\n                        mobile={mobile}\n                        removeCallback={removeCallback}\n                    />\n                </CSSTransition>\n            ))}\n        </TransitionGroup>\n    );\n}\n\nfunction updateToastHeightCssProperty(toast: InternalToastProps) {\n    if (toast.ref?.current) {\n        toast.ref.current.style.setProperty(\n            '--_--item-height',\n            `${toast.ref.current.offsetHeight}px`,\n        );\n    }\n}\n"]}