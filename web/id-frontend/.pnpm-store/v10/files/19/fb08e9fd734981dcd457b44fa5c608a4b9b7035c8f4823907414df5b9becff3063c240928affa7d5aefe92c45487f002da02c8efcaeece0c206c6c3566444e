{"version":3,"file":"withPlatform.js","sourceRoot":"../../../../src","sources":["components/mobile/withPlatform.tsx"],"names":[],"mappings":";;AASA,oCAcC;;;AAvBD,qDAA+B;AAE/B,mEAA2D;AAE3D,sDAA8C;AAK9C,SAAgB,YAAY,CACxB,gBAAwC;IAExC,MAAM,aAAa,GAAG,IAAA,mCAAgB,EAAC,gBAAgB,CAAC,CAAC;IAEzD,OAAO,MAAM,qBAAsB,SAAQ,KAAK,CAAC,SAA2C;QACxF,MAAM,CAAC,WAAW,GAAG,gBAAgB,aAAa,GAAG,CAAC;QACtD,MAAM,CAAC,WAAW,GAAG,6BAAa,CAAC;QAGnC,MAAM;YACF,OAAO,uBAAC,gBAAgB,OAAM,IAAI,CAAC,KAAW,EAAE,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAI,CAAC;QACxF,CAAC;KACJ,CAAC;AACN,CAAC","sourcesContent":["import * as React from 'react';\n\nimport {getComponentName} from '../utils/getComponentName';\n\nimport {MobileContext} from './MobileContext';\nimport type {MobileContextProps} from './MobileContext';\n\nexport type WithPlatformProps = {platform: MobileContextProps['platform']};\n\nexport function withPlatform<T extends WithPlatformProps>(\n    WrappedComponent: React.ComponentType<T>,\n): React.ComponentType<Omit<T, keyof WithPlatformProps>> {\n    const componentName = getComponentName(WrappedComponent);\n\n    return class WithPlatformComponent extends React.Component<Omit<T, keyof WithPlatformProps>> {\n        static displayName = `withPlatform(${componentName})`;\n        static contextType = MobileContext;\n        declare context: React.ContextType<typeof MobileContext>;\n\n        render() {\n            return <WrappedComponent {...(this.props as T)} platform={this.context.platform} />;\n        }\n    };\n}\n"]}